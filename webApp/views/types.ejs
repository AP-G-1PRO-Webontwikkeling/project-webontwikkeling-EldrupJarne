<%- include("partials/header") %>
    <section class="pb-5">
        <form action="/types?filter=<%= filter %>&sortParam=<%= sortParam %>&direction=<%= direction %>" method="GET">
            <label class="form-label" for="filter">Search for items</label>
            <div class=" container form-control d-flex">
                <input class="form-control border-0 me-1" type="search" name="filter" id="filter" value="<%= filter %>" placeholder="...">
                <button type="submit" class="bg-white text-dark border-0"><i class="bi bi-search form"></i></button>
            </div>
        </form>
    </section>
    <section class="bg-dark p-3 rounded table-responsive text-nowrap">
        <table class="table table-dark table-striped table-hover align-middle rounded text-center">
            <caption class="text-light">List of types</caption>
            <thead>
                <tr>
                    <th scope="col"><a href="/types?filter=<%= filter %>&sortParam=typeName&direction=<%= direction %>" class="text-white text-decoration-none ">type <% if (sortParam=="typeName" ) {%>
                                <% if (direction=="1" ) { %>
                                    <i class="bi bi-caret-up-fill"></i>
                                    <% } else if (direction=="2" ){%>
                                        <i class="bi-caret-down-fill"></i>
                                        <% } %>
                                            <% } %></a></th>
                    <th scope="col"><a href="/types?filter=<%= filter %>&sortParam=description&direction=<%= direction %>" class="text-white text-decoration-none ">Description <% if (sortParam=="description" ) {%>
                                <% if (direction=="1" ) { %>
                                    <i class="bi bi-caret-up-fill"></i>
                                    <% } else if (direction=="2" ){%>
                                        <i class="bi-caret-down-fill"></i>
                                        <% } %>
                                            <% } %> </a></th>
                    <th scope="col"><a href="/types?filter=<%= filter %>&sortParam=tags&direction=<%= direction %>" class="text-white text-decoration-none ">Tags <% if (sortParam=="tags" ) {%>
                                <% if (direction=="1" ) { %>
                                    <i class="bi bi-caret-up-fill"></i>
                                    <% } else if (direction=="2" ){%>
                                        <i class="bi-caret-down-fill"></i>
                                        <% } %>
                                            <% } %> </a></th>
                    <th scope="col"><a href="/types?filter=<%= filter %>&sortParam=statusActive&direction=<%= direction %>" class="text-white text-decoration-none ">Active <% if (sortParam=="statusActive" ) {%>
                                <% if (direction=="1" ) { %>
                                    <i class="bi bi-caret-up-fill"></i>
                                    <% } else if (direction=="2" ){%>
                                        <i class="bi-caret-down-fill"></i>
                                        <% } %>
                                            <% } %> </a></th>
                </tr>
            </thead>
            <tbody class="table-group-devider">
                <% for (const type of types) { %>
                    <tr scope="row">
                        <td>
                            <a href="/types/<%= type.typeName %>" class="text-white text-decoration-none">
                                <%= type.typeName %> <i class="bi bi-box-arrow-up-right ms-1"></i>
                            </a>
                        </td>
                        <td class="text-wrap text-start">
                            <%= type.description %>
                        </td>
                        <td>
                            <ul class="list-group bg-dark">
                                <% for (let i=0; i < type.tags.length && i < 3; i++) { %>
                                    <li class="list-group-item bg-dark text-white">
                                        <%= type.tags[i] %>
                                    </li>
                                    <% } %>
                            </ul>
                        </td>
                        <td class="text-center">
                            <% if (type.statusActive) { %>
                                <i class="bi bi-circle-fill text-success"></i>
                                <% } else {%>
                                    <i class="bi bi-circle-fill text-danger"></i>
                                    <% } %>
                        </td>
                    </tr>
                    <% } %>
            </tbody>
        </table>
    </section>
    <%- include("partials/footer") %>